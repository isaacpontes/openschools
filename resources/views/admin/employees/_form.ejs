<%- include('../../partials/messages') %>

<form action="<%= url %>" method="POST">

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="employee_code">Matrícula</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[employee_code]"
            id="employee_code"
            placeholder="Ex.: 196158-1"
            value="<%= typeof employee.employee_code != 'undefined' ? employee.employee_code : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="name">Nome</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[name]"
            id="name"
            placeholder="Ex.: Maria Helena da Silva Oliveira"
            value="<%= typeof employee.name != 'undefined' ? employee.name : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="position">Cargo</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[position]"
            id="position"
            placeholder="Ex.: Professora de História"
            value="<%= typeof employee.position != 'undefined' ? employee.position : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="role">Função</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[role]"
            id="role"
            placeholder="Professora de História do Ensino Fundamental"
            value="<%= typeof employee.role != 'undefined' ? employee.role : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label for="bond" class="label">Vínculo</label>
        <div class="control">
          <div class="select is-fullwidth">
            <select name="employee[bond]" id="bond" required>
              <option value="" disabled selected>Selecione um vínculo</option>
              <option value="Efetivo" <%= employee.bond === 'Efetivo' ? 'selected' : '' %>>
                Efetivo
              </option>
              <option value="Comissionado" <%= employee.bond === 'Comissionado' ? 'selected' : '' %>>
                Comissionado
              </option>
              <option value="Contratado" <%= employee.bond === 'Contratado' ? 'selected' : '' %>>
                Contratado
              </option>
              <option value="Cedido" <%= employee.bond === 'Cedido' ? 'selected' : '' %>>
                Cedido
              </option>
              <option value="Permutado" <%= employee.bond === 'Permutado' ? 'selected' : '' %>>
                Permutado
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label for="birthday" class="label">Data de Nascimento</label>
        <div class="control">
          <input
            class="input"
            type="date"
            name="employee[birthday]"
            id="birthday"
            value="<%= typeof employee.birthday != 'undefined' ? dayjs(employee.birthday).format('YYYY-MM-DD') : '' %>"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="cpf">CPF</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[cpf]"
            id="cpf"
            placeholder="Insira apenas números. Ex.: 04196574911"
            value="<%= typeof employee.cpf != 'undefined' ? employee.cpf : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="rg">RG</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[rg]"
            id="rg"
            placeholder="Insira apenas números. Ex.: 123459878"
            value="<%= typeof employee.rg != 'undefined' ? employee.rg : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="ctps">CTPS</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[ctps]"
            id="ctps"
            placeholder="Insira apenas números"
            value="<%= typeof employee.ctps != 'undefined' ? employee.ctps : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="elector_title">Título de Eleitor</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[elector_title]"
            id="elector_title"
            placeholder="Insira apenas números"
            value="<%= typeof employee.elector_title != 'undefined' ? employee.elector_title : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="pis">PIS</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[pis]"
            id="pis"
            placeholder="Insira apenas números"
            value="<%= typeof employee.pis != 'undefined' ? employee.pis : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="fundeb">Fundeb</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[fundeb]"
            id="fundeb"
            placeholder=""
            value="<%= typeof employee.fundeb != 'undefined' ? employee.fundeb : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="field">
    <label for="address" class="label">Endereço</label>
    <div class="control">
      <input
        class="input"
        type="text"
        name="employee[address]"
        id="address"
        placeholder="Ex.: Avenida 24 de Abril, nº 71, Centro. São Fidélis / RJ"
        value="<%= typeof employee.address != 'undefined' ? employee.address : '' %>"
        autocomplete="off"
        required
      />
    </div>
  </div>
  
  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="phone">Telefone</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[phone]"
            id="phone"
            placeholder="Insira apenas números. Ex.: 22997152633"
            value="<%= typeof employee.phone != 'undefined' ? employee.phone : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="email">Email</label>
        <div class="control">
          <input
            class="input"
            type="email"
            name="employee[email]"
            id="email"
            placeholder="Ex.: mhelena@gmail.com"
            value="<%= typeof employee.email != 'undefined' ? employee.email : '' %>"
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>
  
  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label class="label" for="formation">Formação</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[formation]"
            id="formation"
            placeholder="Ex.: Licenciatura em História"
            value="<%= typeof employee.formation != 'undefined' ? employee.formation : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label class="label" for="complementary_formation">Formação Complementar</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[complementary_formation]"
            id="complementary_formation"
            placeholder="Ex.: Pós-Graduação em História Antiga"
            value="<%= typeof employee.complementary_formation != 'undefined' ? employee.complementary_formation : '' %>"
            autocomplete="off"
          />
        </div>
      </div>
    </div>
  </div>
  
  <div class="columns">
    <div class="column is-one-third">
      <div class="field">
        <label for="situation" class="label">Situação</label>
        <div class="control">
          <div class="select is-fullwidth">
            <select name="employee[situation]" id="situation" required>
              <option value="" disabled selected>Selecione um situação</option>
              <option value="Ativo" <%= employee.situation === 'Ativo' ? 'selected' : '' %>>
                Ativo
              </option>
              <option value="Cedido" <%= employee.situation === 'Cedido' ? 'selected' : '' %>>
                Cedido
              </option>
              <option value="Extraclasse" <%= employee.situation === 'Extraclasse' ? 'selected' : '' %>>
                Extraclasse
              </option>
              <option value="Licenciado" <%= employee.situation === 'Licenciado' ? 'selected' : '' %>>
                Licenciado
              </option>
              <option value="Permutado" <%= employee.situation === 'Permutado' ? 'selected' : '' %>>
                Permutado
              </option>
              <option value="Professor Regente" <%= employee.situation === 'Professor Regente' ? 'selected' : '' %>>
                Professor Regente
              </option>
              <option value="Readaptado" <%= employee.situation === 'Readaptado' ? 'selected' : '' %>>
                Readaptado
              </option>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="column is-one-third">
      <div class="field">
        <label for="admission_date" class="label">Data de Admissão</label>
        <div class="control">
          <input
            class="input"
            type="date"
            name="employee[admission_date]"
            id="admission_date"
            value="<%= typeof employee.admission_date != 'undefined' ? dayjs(employee.admission_date).format('YYYY-MM-DD') : '' %>"
            required
          />
        </div>
      </div>
    </div>

    <div class="column is-one-third">
      <div class="field">
        <label class="label" for="workload">Carga Horária</label>
        <div class="control">
          <input
            class="input"
            type="text"
            name="employee[workload]"
            id="workload"
            placeholder="Ex.: 20 Horas"
            value="<%= typeof employee.workload != 'undefined' ? employee.workload : '' %>"
            autofocus
            autocomplete="off"
            required
          />
        </div>
      </div>
    </div>
  </div>

  <div class="columns">
    <div class="column is-half">
      <div class="field">
        <label for="origin_sector_id" class="label">Setor de Origem</label>
        <div class="control">
          <div class="select is-fullwidth">
            <select name="employee[origin_sector_id]" id="origin_sector_id" required>
              <option value="" disabled selected>Escolha um setor...</option>
              <% allSectors.forEach(sector => { %>
                <option
                  value="<%= sector.id %>"
                  <%= sector.id === employee.origin_sector_id ? 'selected' : '' %>
                >
                  <%= sector.name %>
                </option>
              <% }) %>
            </select>
          </div>
        </div>
      </div>
    </div>

    <div class="column is-half">
      <div class="field">
        <label for="current_sector_id" class="label">Setor Atual</label>
        <div class="control">
          <div class="select is-fullwidth">
            <select name="employee[current_sector_id]" id="current_sector_id" required>
              <option value="" disabled selected>Escolha um setor...</option>
              <% allSectors.forEach(sector => { %>
                <option
                  value="<%= sector.id %>"
                  <%= sector.id === employee.current_sector_id ? 'selected' : '' %>
                >
                  <%= sector.name %>
                </option>
              <% }) %>
            </select>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="field">
    <label for="shift" class="label">Turno</label>
    <div class="control">
      <div class="select is-fullwidth">
        <select name="employee[shift]" id="shift">
          <option value="" selected>Selecione um turno</option>
          <option value="morning" <%= employee.shift === 'morning' ? 'selected' : '' %>>
            Manhã
          </option>
          <option value="afternoon" <%= employee.shift === 'afternoon' ? 'selected' : '' %>>
            Tarde
          </option>
          <option value="night" <%= employee.shift === 'night' ? 'selected' : '' %>>
            Noite
          </option>
        </select>
      </div>
    </div>
  </div>

  <div class="field">
    <label for="info" class="label">Informações Adicionais</label>
    <div class="control">
      <textarea
        class="textarea"
        type="text"
        name="employee[info]"
        id="info"
        placeholder="Insira outras informações adicionais"
      ><%= typeof employee.info != 'undefined' ? employee.info : '' %></textarea>
    </div>
  </div>

  <div class="field">
    <div class="control">
      <button class="button is-success" type="submit">Salvar</button>
      <a href="/admin/employees" class="button">Voltar</a>
    </div>
  </div>

</form>
